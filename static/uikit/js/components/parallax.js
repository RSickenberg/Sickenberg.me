/*! For license information please see parallax.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitparallax",["uikit-util"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).UIkitParallax=e(t.UIkit.util)}(this,(function(t){"use strict";var e={props:{media:Boolean},data:{media:!1},connected(){const e=function(e,n){if(t.isString(e))if(t.startsWith(e,"@"))e=t.toFloat(t.css(n,`--uk-breakpoint-${e.substr(1)}`));else if(isNaN(e))return e;return e&&t.isNumeric(e)?`(min-width: ${e}px)`:""}(this.media,this.$el);if(this.matchMedia=!0,e){this.mediaObj=window.matchMedia(e);const n=()=>{this.matchMedia=this.mediaObj.matches,t.trigger(this.$el,t.createEvent("mediachange",!1,!0,[this.mediaObj]))};this.offMediaObj=t.on(this.mediaObj,"change",(()=>{n(),this.$emit("resize")})),n()}},disconnected(){var t;null==(t=this.offMediaObj)||t.call(this)}};function n(t,e){var n;return null==(n=null==t?void 0:t.startsWith)?void 0:n.call(t,e)}const{isArray:r,from:i}=Array;function o(t){return null!==t&&"object"==typeof t}function s(t){return c(t)>=1}function c(t){return!function(t){return o(t)&&t===t.window}(t)&&o(t)&&t.nodeType}function u(t){return"string"==typeof t}function a(t){return l(t)[0]}function l(t){return s(t)?[t]:Array.from(t||[]).filter(s)}function f(t){const e=Object.create(null);return n=>e[n]||(e[n]=t(n))}function h(t,e,n){var r;if(o(e))for(const n in e)h(t,n,e[n]);else{if(function(t){return void 0===t}(n))return null==(r=a(t))?void 0:r.getAttribute(e);for(const r of l(t))"function"==typeof n&&(n=n.call(r,h(r,e))),null===n?d(r,e):r.setAttribute(e,n)}}function d(t,e){l(t).forEach((t=>t.removeAttribute(e)))}function p(t){var e;return null==(e=a(t))?void 0:e.parentElement}function g(t,e){return l(t).some((t=>t.matches(e)))}function m(t,e){return 1===c(t)?t.closest(n(e,">")?e.slice(1):e):l(t).map((t=>m(t,e))).filter(Boolean)}function b(t,e){return e?l(t).indexOf(a(e)):function(t,e){const n=(t=a(t))?i(t.children):[];return e?function(t,e){return l(t).filter((t=>g(t,e)))}(n,e):n}(p(t)).indexOf(t)}const $=/(^|[^\\],)\s*[!>+~-]/,x=f((t=>t.match($))),v=/([!>+~-])(?=\s+[!>+~-]|\s*$)/g,y=f((t=>t.replace(v,"$1 *"))),w=/.*?[^\\](?:,|$)/g,k=f((t=>t.match(w).map((t=>t.replace(/,$/,"").trim()))));function j(t){const e=[];for(;t.parentNode;){const r=h(t,"id");if(r){e.unshift(`#${n=r,u(n)?CSS.escape(n):""}`);break}{let{tagName:n}=t;"HTML"!==n&&(n+=`:nth-child(${b(t)+1})`),e.unshift(n),t=t.parentNode}}var n;return e.join(" > ")}const M=/^\s*<(\w+|!)[^>]*>/,O=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;function S(t,e){return u(r=t)&&n(r.trim(),"<")?l(function(t){const e=O.exec(t);if(e)return document.createElement(e[1]);const n=document.createElement("div");return M.test(t)?n.insertAdjacentHTML("beforeend",t.trim()):n.textContent=t,(r=n.childNodes).length>1?r:r[0];var r}(t)):function(t,e){return l(function(t,e=document,n){if(!t||!u(t))return t;if(t=y(t),x(t)){const n=k(t);t="";for(let r of n){let i=e;if("!"===r[0]){const t=r.substr(1).trim().split(" ");if(i=m(p(e),t[0]),r=t.slice(1).join(" ").trim(),!r.length&&1===n.length)return i}if("-"===r[0]){const t=r.substr(1).trim().split(" "),n=(i||e).previousElementSibling;i=g(n,r.substr(1))?n:null,r=t.slice(1).join(" ")}i&&(t+=`${t?",":""}${j(i)} ${r}`)}e=document}try{return e[n](t)}catch(t){return null}}(t,a(e),"querySelectorAll"))}(t,e);var r}const N={x:C,y:C,rotate:C,scale:C,color:E,backgroundColor:E,borderColor:E,blur:I,hue:I,fopacity:I,grayscale:I,invert:I,saturate:I,sepia:I,opacity:function(t,e,n){return 1===n.length&&n.unshift(R(e,t,"")),n=H(n),(e,r)=>{e[t]=D(n,r)}},stroke:function(e,n,r){1===r.length&&r.unshift(0);const i=B(r),o=function(t){return Math.ceil(Math.max(0,...S("[stroke]",t).map((t=>{try{return t.getTotalLength()}catch(t){return 0}}))))}(n);return(r=H(r.reverse(),(e=>(e=t.toFloat(e),"%"===i?e*o/100:e)))).some((([t])=>t))?(t.css(n,"strokeDasharray",o),(t,e)=>{t.strokeDashoffset=D(r,e)}):t.noop},bgx:T,bgy:T},{keys:F}=Object;var A={mixins:[e],props:V(F(N),"list"),data:V(F(N),void 0),computed:{props(e,n){const r={};for(const n in e)n in N&&!t.isUndefined(e[n])&&(r[n]=e[n].slice());const i={};for(const t in r)i[t]=N[t](t,n,r[t],r);return i}},events:{load(){this.$emit()}},methods:{reset(){for(const e in this.getCss(0))t.css(this.$el,e,"")},getCss(e){const n={transform:"",filter:""};for(const t in this.props)this.props[t](n,e);return n.willChange=Object.keys(n).filter((t=>""!==n[t])).map(t.propName).join(","),n}}};function C(e,n,r){let i,o=B(r)||{x:"px",y:"px",rotate:"deg"}[e]||"";return"x"===e||"y"===e?(e=`translate${t.ucfirst(e)}`,i=e=>t.toFloat(t.toFloat(e).toFixed("px"===o?0:6))):"scale"===e&&(o="",i=e=>B([e])?t.toPx(e,"width",n,!0)/n.offsetWidth:e),1===r.length&&r.unshift("scale"===e?1:0),r=H(r,i),(t,n)=>{t.transform+=` ${e}(${D(r,n)}${o})`}}function E(e,n,r){return 1===r.length&&r.unshift(R(n,e,"")),r=H(r,(e=>function(e,n){return R(e,"color",n).split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(t.toFloat)}(n,e))),(n,i)=>{const[o,s,c]=q(r,i),u=o.map(((e,n)=>(e+=c*(s[n]-e),3===n?t.toFloat(e):parseInt(e,10)))).join(",");n[e]=`rgba(${u})`}}function I(t,e,n){1===n.length&&n.unshift(0);const r=B(n)||{blur:"px",hue:"deg"}[t]||"%";return t={fopacity:"opacity",hue:"hue-rotate"}[t]||t,n=H(n),(e,i)=>{const o=D(n,i);e.filter+=` ${t}(${o+r})`}}function T(e,n,r,i){1===r.length&&r.unshift(0);const o="bgy"===e?"height":"width";i[e]=H(r,(e=>t.toPx(e,o,n)));const s=["bgx","bgy"].filter((t=>t in i));if(2===s.length&&"bgx"===e)return t.noop;if("cover"===R(n,"backgroundSize",""))return function(e,n,r,i){const o=function(e){const n=t.css(e,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");if(P[n])return P[n];const r=new Image;return n&&(r.src=n,!r.naturalWidth)?(r.onload=()=>{P[n]=U(r),t.trigger(e,t.createEvent("load",!1))},U(r)):P[n]=U(r)}(n);if(!o.width)return t.noop;const s={width:n.offsetWidth,height:n.offsetHeight},c=["bgx","bgy"].filter((t=>t in i)),u={};for(const t of c){const e=i[t].map((([t])=>t)),n=Math.min(...e),r=Math.max(...e),o=e.indexOf(n)<e.indexOf(r),c=r-n;u[t]=(o?-c:0)-(o?n:r)+"px",s["bgy"===t?"height":"width"]+=c}const a=t.Dimensions.cover(o,s);for(const t of c){const e="bgy"===t?"height":"width",r=a[e]-s[e];u[t]=`max(${z(n,t)},-${r}px) + ${u[t]}`}const l=W(c,u,i);return(t,e)=>{l(t,e),t.backgroundSize=`${a.width}px ${a.height}px`,t.backgroundRepeat="no-repeat"}}(0,n,0,i);const c={};for(const t of s)c[t]=z(n,t);return W(s,c,i)}function z(t,e){return R(t,`background-position-${e.substr(-1)}`,"")}function W(t,e,n){return function(r,i){for(const o of t){const t=D(n[o],i);r[`background-position-${o.substr(-1)}`]=`calc(${e[o]} + ${t}px)`}}}const P={};function U(t){return{width:t.naturalWidth,height:t.naturalHeight}}function H(e,n=t.toFloat){const r=[],{length:i}=e;let o=0;for(let s=0;s<i;s++){let[c,u]=t.isString(e[s])?e[s].trim().split(/ (?![^(]*\))/):[e[s]];if(c=n(c),u=u?t.toFloat(u)/100:null,0===s?null===u?u=0:u&&r.push([c,0]):s===i-1&&(null===u?u=1:1!==u&&(r.push([c,u]),u=1)),r.push([c,u]),null===u)o++;else if(o){const t=r[s-o-1][1],e=(u-t)/(o+1);for(let n=o;n>0;n--)r[s-n][1]=t+e*(o-n+1);o=0}}return r}function q(e,n){const r=t.findIndex(e.slice(1),(([,t])=>n<=t))+1;return[e[r-1][0],e[r][0],(n-e[r-1][1])/(e[r][1]-e[r-1][1])]}function D(e,n){const[r,i,o]=q(e,n);return t.isNumber(r)?r+Math.abs(r-i)*o*(r<i?1:-1):+i}const L=/^-?\d+(\S+)?/;function B(t,e){var n;for(const e of t){const t=null==(n=e.match)?void 0:n.call(e,L);if(t)return t[1]}return e}function R(e,n,r){const i=e.style[n],o=t.css(t.css(e,n,r),n);return e.style[n]=i,o}function V(t,e){return t.reduce(((t,n)=>(t[n]=e,t)),{})}function G(t,e,n){return{observe:t,handler(){this.$emit(n)},...e}}var J,K={mixins:[A],props:{target:String,viewport:Number,easing:Number,start:String,end:String},data:{target:!1,viewport:1,easing:1,start:0,end:0},computed:{target:({target:e},n)=>Q(e&&t.query(e,n)||n),start({start:e}){return t.toPx(e,"height",this.target,!0)},end({end:e,viewport:n}){return t.toPx(e||(n=100*(1-n))&&`${n}vh+${n}%`,"height",this.target,!0)}},observe:[(J={target:({$el:t,target:e})=>[t,e]},G(t.observeResize,J,"resize")),G((function(e,n){return{disconnect:t.on(e,"scroll",n,{passive:!0,capture:!0})}}),{target:()=>window},"scroll")],update:{read({percent:e},n){if(n.has("scroll")||(e=!1),!t.isVisible(this.$el))return!1;if(!this.matchMedia)return;const r=e;return{percent:e=function(t,e){return e>=0?Math.pow(t,e+1):1-Math.pow(1-t,1-e)}(t.scrolledOver(this.target,this.start,this.end),this.easing),style:r!==e&&this.getCss(e)}},write({style:e}){this.matchMedia?e&&t.css(this.$el,e):this.reset()},events:["scroll","resize"]}};function Q(e){return e?"offsetTop"in e?e:Q(t.parent(e)):document.documentElement}return"undefined"!=typeof window&&window.UIkit&&window.UIkit.component("parallax",K),K}));