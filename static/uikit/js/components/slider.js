/*! For license information please see slider.js.LICENSE.txt */
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitslider",["uikit-util"],i):(t="undefined"!=typeof globalThis?globalThis:t||self).UIkitSlider=i(t.UIkit.util)}(this,(function(t){"use strict";var i={connected(){var i;this.registerObserver(t.observeResize((null==(i=this.$options.resizeTargets)?void 0:i.call(this))||this.$el,(()=>this.$emit("resize"))))}},e={props:{autoplay:Boolean,autoplayInterval:Number,pauseOnHover:Boolean},data:{autoplay:!1,autoplayInterval:7e3,pauseOnHover:!0},connected(){this.autoplay&&this.startAutoplay()},disconnected(){this.stopAutoplay()},update(){t.attr(this.slides,"tabindex","-1")},events:[{name:"visibilitychange",el:()=>document,filter(){return this.autoplay},handler(){document.hidden?this.stopAutoplay():this.startAutoplay()}}],methods:{startAutoplay(){this.stopAutoplay(),this.interval=setInterval((()=>(!this.draggable||!t.$(":focus",this.$el))&&(!this.pauseOnHover||!t.matches(this.$el,":hover"))&&!this.stack.length&&this.show("next")),this.autoplayInterval)},stopAutoplay(){this.interval&&clearInterval(this.interval)}}};const s={passive:!1,capture:!0},n="touchmove mousemove",r="touchend touchcancel mouseup click input";function h(t){return.5*t+300}function d(t,i){return void 0===t&&(t=0),void 0===i&&(i="%"),"translate3d("+(t+=t?i:"")+", 0, 0)"}function o(i,e,s){const n=c(i,e);return s?n-function(i,e){return t.dimensions(e).width/2-t.dimensions(i).width/2}(i,e):Math.min(n,a(e))}function a(i){return Math.max(0,l(i)-t.dimensions(i).width)}function l(i){return t.children(i).reduce(((i,e)=>t.dimensions(e).width+i),0)}function c(i,e){return i&&(t.position(i).left+(t.isRtl?t.dimensions(i).width-t.dimensions(e).width:0))*(t.isRtl?-1:1)||0}function u(i,e){e-=1;const s=t.dimensions(i).width,n=e+s+2;return t.children(i).filter((r=>{const h=c(r,i),d=h+Math.min(t.dimensions(r).width,s);return h>=e&&d<=n}))}function g(i,e,s){t.trigger(i,t.createEvent(e,!1,!1,s))}var v={mixins:[{connected(){!t.hasClass(this.$el,this.$name)&&t.addClass(this.$el,this.$name)}},{mixins:[e,{props:{draggable:Boolean},data:{draggable:!0,threshold:10},created(){for(const i of["start","move","end"]){const e=this[i];this[i]=i=>{const s=t.getEventPos(i).x*(t.isRtl?-1:1);this.prevPos=s===this.pos?this.prevPos:this.pos,this.pos=s,e(i)}}},events:[{name:"touchstart mousedown",delegate(){return this.selSlides},handler(i){var e;!this.draggable||!t.isTouch(i)&&(!(e=i.target).children.length&&e.childNodes.length)||t.closest(i.target,t.selInput)||i.button>0||this.length<2||this.start(i)}},{name:"dragstart",handler(t){t.preventDefault()}},{name:n+" "+r,el(){return this.list},handler:t.noop,...s}],methods:{start(){this.drag=this.pos,this._transitioner?(this.percent=this._transitioner.percent(),this.drag+=this._transitioner.getDistance()*this.percent*this.dir,this._transitioner.cancel(),this._transitioner.translate(this.percent),this.dragging=!0,this.stack=[]):this.prevIndex=this.index,t.on(document,n,this.move,s),t.on(document,r,this.end,s),t.css(this.list,"userSelect","none")},move(i){const e=this.pos-this.drag;if(0===e||this.prevPos===this.pos||!this.dragging&&Math.abs(e)<this.threshold)return;t.css(this.list,"pointerEvents","none"),i.cancelable&&i.preventDefault(),this.dragging=!0,this.dir=e<0?1:-1;const{slides:s}=this;let{prevIndex:n}=this,r=Math.abs(e),h=this.getIndex(n+this.dir,n),d=this._getDistance(n,h)||s[n].offsetWidth;for(;h!==n&&r>d;)this.drag-=d*this.dir,n=h,r-=d,h=this.getIndex(n+this.dir,n),d=this._getDistance(n,h)||s[n].offsetWidth;this.percent=r/d;const o=s[n],a=s[h],l=this.index!==h,c=n===h;let u;[this.index,this.prevIndex].filter((i=>!t.includes([h,n],i))).forEach((i=>{t.trigger(s[i],"itemhidden",[this]),c&&(u=!0,this.prevIndex=n)})),(this.index===n&&this.prevIndex!==n||u)&&t.trigger(s[this.index],"itemshown",[this]),l&&(this.prevIndex=n,this.index=h,!c&&t.trigger(o,"beforeitemhide",[this]),t.trigger(a,"beforeitemshow",[this])),this._transitioner=this._translate(Math.abs(this.percent),o,!c&&a),l&&(!c&&t.trigger(o,"itemhide",[this]),t.trigger(a,"itemshow",[this]))},end(){if(t.off(document,n,this.move,s),t.off(document,r,this.end,s),this.dragging)if(this.dragging=null,this.index===this.prevIndex)this.percent=1-this.percent,this.dir*=-1,this._show(!1,this.index,!0),this._transitioner=null;else{const i=(t.isRtl?this.dir*(t.isRtl?1:-1):this.dir)<0==this.prevPos>this.pos;this.index=i?this.index:this.prevIndex,i&&(this.percent=1-this.percent),this.show(this.dir>0&&!i||this.dir<0&&i?"next":"previous",!0)}t.css(this.list,{userSelect:"",pointerEvents:""}),this.drag=this.percent=null}}},{data:{selNav:!1},computed:{nav(i,e){let{selNav:s}=i;return t.$(s,e)},selNavItem(t){let{attrItem:i}=t;return"["+i+"],[data-"+i+"]"},navItems(i,e){return t.$$(this.selNavItem,e)}},update:{write(){this.nav&&this.length!==this.nav.children.length&&t.html(this.nav,this.slides.map(((t,i)=>"<li "+this.attrItem+'="'+i+'"><a href></a></li>')).join("")),this.navItems.concat(this.nav).forEach((t=>t&&(t.hidden=!this.maxIndex))),this.updateNav()},events:["resize"]},events:[{name:"click",delegate(){return this.selNavItem},handler(i){i.preventDefault(),this.show(t.data(i.current,this.attrItem))}},{name:"itemshow",handler:"updateNav"}],methods:{updateNav(){const i=this.getValidIndex();for(const e of this.navItems){const s=t.data(e,this.attrItem);t.toggleClass(e,this.clsActive,t.toNumber(s)===i),t.toggleClass(e,"uk-invisible",this.finite&&("previous"===s&&0===i||"next"===s&&i>=this.maxIndex))}}}},i],props:{clsActivated:Boolean,easing:String,index:Number,finite:Boolean,velocity:Number,selSlides:String},data:()=>({easing:"ease",finite:!1,velocity:1,index:0,prevIndex:-1,stack:[],percent:0,clsActive:"uk-active",clsActivated:!1,Transitioner:!1,transitionOptions:{}}),connected(){this.prevIndex=-1,this.index=this.getValidIndex(this.$props.index),this.stack=[]},disconnected(){t.removeClass(this.slides,this.clsActive)},computed:{duration(t,i){let{velocity:e}=t;return h(i.offsetWidth/e)},list(i,e){let{selList:s}=i;return t.$(s,e)},maxIndex(){return this.length-1},selSlides(t){let{selList:i,selSlides:e}=t;return i+" "+(e||"> *")},slides:{get(){return t.$$(this.selSlides,this.$el)},watch(){this.$reset()}},length(){return this.slides.length}},methods:{show(i,e){if(void 0===e&&(e=!1),this.dragging||!this.length)return;const{stack:s}=this,n=e?0:s.length,r=()=>{s.splice(n,1),s.length&&this.show(s.shift(),!0)};if(s[e?"unshift":"push"](i),!e&&s.length>1)return void(2===s.length&&this._transitioner.forward(Math.min(this.duration,200)));const h=this.getIndex(this.index),d=t.hasClass(this.slides,this.clsActive)&&this.slides[h],o=this.getIndex(i,this.index),a=this.slides[o];if(d===a)return void r();if(this.dir=function(t,i){return"next"===t?1:"previous"===t||t<i?-1:1}(i,h),this.prevIndex=h,this.index=o,d&&!t.trigger(d,"beforeitemhide",[this])||!t.trigger(a,"beforeitemshow",[this,d]))return this.index=this.prevIndex,void r();const l=this._show(d,a,e).then((()=>(d&&t.trigger(d,"itemhidden",[this]),t.trigger(a,"itemshown",[this]),new Promise((i=>{t.fastdom.write((()=>{s.shift(),s.length?this.show(s.shift(),!0):this._transitioner=null,i()}))})))));return d&&t.trigger(d,"itemhide",[this]),t.trigger(a,"itemshow",[this]),l},getIndex(i,e){return void 0===i&&(i=this.index),void 0===e&&(e=this.index),t.clamp(t.getIndex(i,this.slides,e,this.finite),0,this.maxIndex)},getValidIndex(t,i){return void 0===t&&(t=this.index),void 0===i&&(i=this.prevIndex),this.getIndex(t,i)},_show(t,i,e){if(this._transitioner=this._getTransitioner(t,i,this.dir,{easing:e?i.offsetWidth<600?"cubic-bezier(0.25, 0.46, 0.45, 0.94)":"cubic-bezier(0.165, 0.84, 0.44, 1)":this.easing,...this.transitionOptions}),!e&&!t)return this._translate(1),Promise.resolve();const{length:s}=this.stack;return this._transitioner[s>1?"forward":"show"](s>1?Math.min(this.duration,75+75/(s-1)):this.duration,this.percent)},_getDistance(t,i){return this._getTransitioner(t,t!==i&&i).getDistance()},_translate(t,i,e){void 0===i&&(i=this.prevIndex),void 0===e&&(e=this.index);const s=this._getTransitioner(i!==e&&i,e);return s.translate(t),s},_getTransitioner(i,e,s,n){return void 0===i&&(i=this.prevIndex),void 0===e&&(e=this.index),void 0===s&&(s=this.dir||1),void 0===n&&(n=this.transitionOptions),new this.Transitioner(t.isNumber(i)?this.slides[i]:i,t.isNumber(e)?this.slides[e]:e,s*(t.isRtl?-1:1),n)}}},{update:{write(){if(this.stack.length||this.dragging)return;const t=this.getValidIndex(this.index);~this.prevIndex&&this.index===t||this.show(t)},events:["resize"]}},{mixins:[{data:{preload:5},methods:{lazyload(i,e){void 0===i&&(i=this.$el),void 0===e&&(e=this.$el),this.registerObserver(t.observeIntersection(i,((i,s)=>{for(const i of t.toNodes(t.isFunction(e)?e():e))t.$$('[loading="lazy"]',i).slice(0,this.preload-1).forEach((i=>t.removeAttr(i,"loading")));for(const t of i.filter((t=>{let{isIntersecting:i}=t;return i})).map((t=>{let{target:i}=t;return i})))s.unobserve(t)})))}}}],connected(){this.lazyload(this.slides,this.getAdjacentSlides)}}],props:{center:Boolean,sets:Boolean},data:{center:!1,sets:!1,attrItem:"uk-slider-item",selList:".uk-slider-items",selNav:".uk-slider-nav",clsContainer:"uk-slider-container",Transitioner:function(i,e,s,n){let{center:r,easing:h,list:a}=n;const v=new t.Deferred,m=i?o(i,a,r):o(e,a,r)+t.dimensions(e).width*s,p=e?o(e,a,r):m+t.dimensions(i).width*s*(t.isRtl?-1:1);return{dir:s,show(e,n,r){void 0===n&&(n=0);const o=r?"linear":h;return e-=Math.round(e*t.clamp(n,-1,1)),this.translate(n),n=i?n:t.clamp(n,0,1),g(this.getItemIn(),"itemin",{percent:n,duration:e,timing:o,dir:s}),i&&g(this.getItemIn(!0),"itemout",{percent:1-n,duration:e,timing:o,dir:s}),t.Transition.start(a,{transform:d(-p*(t.isRtl?-1:1),"px")},e,o).then(v.resolve,t.noop),v.promise},cancel(){t.Transition.cancel(a)},reset(){t.css(a,"transform","")},forward(i,e){return void 0===e&&(e=this.percent()),t.Transition.cancel(a),this.show(i,e,!0)},translate(n){const r=this.getDistance()*s*(t.isRtl?-1:1);t.css(a,"transform",d(t.clamp(r-r*n-p,-l(a),t.dimensions(a).width)*(t.isRtl?-1:1),"px"));const h=this.getActives(),o=this.getItemIn(),u=this.getItemIn(!0);n=i?t.clamp(n,-1,1):0;for(const r of t.children(a)){const d=t.includes(h,r),l=r===o,v=r===u;g(r,"itemtranslate"+(l||!v&&(d||s*(t.isRtl?-1:1)==-1^c(r,a)>c(i||e))?"in":"out"),{dir:s,percent:v?1-n:l?n:d?1:0})}},percent:()=>Math.abs((t.css(a,"transform").split(",")[4]*(t.isRtl?-1:1)+m)/(p-m)),getDistance:()=>Math.abs(p-m),getItemIn(s){void 0===s&&(s=!1);let n=this.getActives(),h=u(a,o(e||i,a,r));if(s){const t=n;n=h,h=t}return h[t.findIndex(h,(i=>!t.includes(n,i)))]},getActives:()=>u(a,o(i||e,a,r))}}},computed:{avgWidth(){return l(this.list)/this.length},finite(i){let{finite:e}=i;return e||Math.ceil(l(this.list))<Math.trunc(t.dimensions(this.list).width+(s=this.list,Math.max(0,...t.children(s).map((i=>t.dimensions(i).width))))+this.center);var s},maxIndex(){if(!this.finite||this.center&&!this.sets)return this.length-1;if(this.center)return t.last(this.sets);let i=0;const e=a(this.list),s=t.findIndex(this.slides,(s=>{if(i>=e)return!0;i+=t.dimensions(s).width}));return~s?s:this.length-1},sets(i){let{sets:e}=i;if(!e)return;let s=0;const n=[],r=t.dimensions(this.list).width;for(let i=0;i<this.slides.length;i++){const e=t.dimensions(this.slides[i]).width;s+e>r&&(s=0),this.center?s<r/2&&s+e+t.dimensions(this.slides[+i+1]).width/2>r/2&&(n.push(+i),s=r/2-e/2):0===s&&n.push(Math.min(+i,this.maxIndex)),s+=e}return n.length?n:void 0},transitionOptions(){return{center:this.center,list:this.list}}},connected(){t.toggleClass(this.$el,this.clsContainer,!t.$("."+this.clsContainer,this.$el))},update:{write(){for(const i of this.navItems){const e=t.toNumber(t.data(i,this.attrItem));!1!==e&&(i.hidden=!this.maxIndex||e>this.maxIndex||this.sets&&!t.includes(this.sets,e))}!this.length||this.dragging||this.stack.length||(this.reorder(),this._translate(1)),this.updateActiveClasses()},events:["resize"]},events:{beforeitemshow(i){!this.dragging&&this.sets&&this.stack.length<2&&!t.includes(this.sets,this.index)&&(this.index=this.getValidIndex());const e=Math.abs(this.index-this.prevIndex+(this.dir>0&&this.index<this.prevIndex||this.dir<0&&this.index>this.prevIndex?(this.maxIndex+1)*this.dir:0));if(!this.dragging&&e>1){for(let t=0;t<e;t++)this.stack.splice(1,0,this.dir>0?"next":"previous");return void i.preventDefault()}const s=this.dir<0||!this.slides[this.prevIndex]?this.index:this.prevIndex;this.duration=h(this.avgWidth/this.velocity)*(t.dimensions(this.slides[s]).width/this.avgWidth),this.reorder()},itemshow(){~this.prevIndex&&t.addClass(this._getTransitioner().getItemIn(),this.clsActive)},itemshown(){this.updateActiveClasses()}},methods:{reorder(){if(this.finite)return void t.css(this.slides,"order","");const i=this.dir>0&&this.slides[this.prevIndex]?this.prevIndex:this.index;if(this.slides.forEach(((e,s)=>t.css(e,"order",this.dir>0&&s<i?1:this.dir<0&&s>=this.index?-1:""))),!this.center)return;const e=this.slides[i];let s=t.dimensions(this.list).width/2-t.dimensions(e).width/2,n=0;for(;s>0;){const e=this.getIndex(--n+i,i),r=this.slides[e];t.css(r,"order",e>i?-2:-1),s-=t.dimensions(r).width}},updateActiveClasses(){const i=this._getTransitioner(this.index).getActives(),e=[this.clsActive,(!this.sets||t.includes(this.sets,t.toFloat(this.index)))&&this.clsActivated||""];for(const s of this.slides)t.toggleClass(s,e,t.includes(i,s))},getValidIndex(i,e){if(void 0===i&&(i=this.index),void 0===e&&(e=this.prevIndex),i=this.getIndex(i,e),!this.sets)return i;let s;do{if(t.includes(this.sets,i))return i;s=i,i=this.getIndex(i+this.dir,e)}while(i!==s);return i},getAdjacentSlides(){const{width:i}=t.dimensions(this.list),e=-i,s=2*i,n=t.dimensions(this.slides[this.index]).width,r=this.center?i/2-n/2:0,h=new Set;for(const i of[-1,1]){let d=r+(i>0?n:0),o=0;do{const e=this.slides[this.getIndex(this.index+i+o++*i)];d+=t.dimensions(e).width*i,h.add(e)}while(this.slides.length>o&&d>e&&d<s)}return Array.from(h)}}};return"undefined"!=typeof window&&window.UIkit&&window.UIkit.component("slider",v),v}));