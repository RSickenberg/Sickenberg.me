/*! For license information please see slider.js.LICENSE.txt */
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitslider",["uikit-util"],i):(t="undefined"!=typeof globalThis?globalThis:t||self).UIkitSlider=i(t.UIkit.util)}(this,(function(t){"use strict";var i={connected(){t.addClass(this.$el,this.$options.id)}},e={props:{i18n:Object},data:{i18n:null},methods:{t(t,...i){var e,s,n;let r=0;return(null==(n=(null==(e=this.i18n)?void 0:e[t])||(null==(s=this.$options.i18n)?void 0:s[t]))?void 0:n.replace(/%s/g,(()=>i[r++]||"")))||""}}},s={connected(){var i;this.registerObserver(t.observeResize((null==(i=this.$options.resizeTargets)?void 0:i.call(this))||this.$el,(()=>this.$emit("resize"))))}};function n(i,e=i.$el,s=""){if(e.id)return e.id;let r=`${i.$options.id}-${i._uid}${s}`;return t.$(`#${r}`)&&(r=n(i,e,`${s}-2`)),r}var r={i18n:{next:"Next slide",previous:"Previous slide",slideX:"Slide %s",slideLabel:"%s of %s"},data:{selNav:!1},computed:{nav:{get:({selNav:i},e)=>t.$(i,e),watch(i,e){t.attr(i,"role","tablist"),e&&this.$emit()},immediate:!0},selNavItem:({attrItem:t})=>`[${t}],[data-${t}]`,navItems:{get(i,e){return t.$$(this.selNavItem,e)},watch(){this.$emit()}}},connected(){t.attr(this.$el,"aria-roledescription","carousel")},update:[{write(){this.slides.forEach(((i,e)=>t.attr(i,{role:this.nav?"tabpanel":"group","aria-label":this.t("slideLabel",e+1,this.length),"aria-roledescription":this.nav?null:"slide"}))),this.nav&&this.length!==this.nav.children.length&&t.html(this.nav,this.slides.map(((t,i)=>`<li ${this.attrItem}="${i}"><a href></a></li>`)).join("")),t.attr(t.children(this.nav).concat(this.list),"role","presentation");for(const i of this.navItems){const e=t.data(i,this.attrItem),s=t.$("a,button",i)||i;let r,h=null;if(t.isNumeric(e)){const i=t.toNumber(e),o=this.slides[i];o&&(o.id||(o.id=n(this,o,`-item-${e}`)),h=o.id),r=this.t("slideX",t.toFloat(e)+1),t.attr(s,"role","tab")}else this.list&&(this.list.id||(this.list.id=n(this,this.list,"-items")),h=this.list.id),r=this.t(e);t.attr(s,{"aria-controls":h,"aria-label":t.attr(s,"aria-label")||r})}}},{write(){this.navItems.concat(this.nav).forEach((t=>t&&(t.hidden=!this.maxIndex))),this.updateNav()},events:["resize"]}],events:[{name:"click keydown",delegate(){return this.selNavItem},handler(i){!t.closest(i.target,"a,button")||"click"!==i.type&&32!==i.keyCode||(i.preventDefault(),this.show(t.data(i.current,this.attrItem)))}},{name:"itemshow",handler:"updateNav"},{name:"keydown",delegate(){return this.selNavItem},handler(i){const{current:e,keyCode:s}=i,n=t.data(e,this.attrItem);if(!t.isNumeric(n))return;let r=36===s?0:35===s?"last":37===s?"previous":39===s?"next":-1;~r&&(i.preventDefault(),this.show(r))}}],methods:{updateNav(){const i=this.getValidIndex();let e,s;for(const n of this.navItems){const r=t.data(n,this.attrItem),h=t.$("a,button",n)||n;if(t.isNumeric(r)){const o=t.toNumber(r)===i;t.toggleClass(n,this.clsActive,o),t.attr(h,{"aria-selected":o,tabindex:o?null:-1}),o&&(s=h),e=e||t.matches(h,":focus")}else t.toggleClass(n,"uk-invisible",this.finite&&("previous"===r&&0===i||"next"===r&&i>=this.maxIndex));e&&s&&s.focus()}}}};const h={passive:!1,capture:!0},o={passive:!0,capture:!0},a="touchmove mousemove",d="touchend touchcancel mouseup click input scroll";var l={props:{draggable:Boolean},data:{draggable:!0,threshold:10},created(){for(const i of["start","move","end"]){const e=this[i];this[i]=i=>{const s=t.getEventPos(i).x*(t.isRtl?-1:1);this.prevPos=s===this.pos?this.prevPos:this.pos,this.pos=s,e(i)}}},events:[{name:"touchstart mousedown",passive:!0,delegate(){return`${this.selList} > *`},handler(i){var e;!this.draggable||!t.isTouch(i)&&(e=i.target,"none"!==t.css(e,"userSelect")&&t.toNodes(e.childNodes).some((t=>3===t.nodeType&&t.textContent.trim())))||t.closest(i.target,t.selInput)||i.button>0||this.length<2||this.start(i)}},{name:"dragstart",handler(t){t.preventDefault()}},{name:a,el(){return this.list},handler:t.noop,...h}],methods:{start(){this.drag=this.pos,this._transitioner?(this.percent=this._transitioner.percent(),this.drag+=this._transitioner.getDistance()*this.percent*this.dir,this._transitioner.cancel(),this._transitioner.translate(this.percent),this.dragging=!0,this.stack=[]):this.prevIndex=this.index,t.on(document,a,this.move,h),t.on(document,d,this.end,o),t.css(this.list,"userSelect","none")},move(i){const e=this.pos-this.drag;if(0===e||this.prevPos===this.pos||!this.dragging&&Math.abs(e)<this.threshold)return;t.css(this.list,"pointerEvents","none"),i.cancelable&&i.preventDefault(),this.dragging=!0,this.dir=e<0?1:-1;const{slides:s}=this;let{prevIndex:n}=this,r=Math.abs(e),h=this.getIndex(n+this.dir,n),o=this._getDistance(n,h)||s[n].offsetWidth;for(;h!==n&&r>o;)this.drag-=o*this.dir,n=h,r-=o,h=this.getIndex(n+this.dir,n),o=this._getDistance(n,h)||s[n].offsetWidth;this.percent=r/o;const a=s[n],d=s[h],l=this.index!==h,c=n===h;let u;[this.index,this.prevIndex].filter((i=>!t.includes([h,n],i))).forEach((i=>{t.trigger(s[i],"itemhidden",[this]),c&&(u=!0,this.prevIndex=n)})),(this.index===n&&this.prevIndex!==n||u)&&t.trigger(s[this.index],"itemshown",[this]),l&&(this.prevIndex=n,this.index=h,!c&&t.trigger(a,"beforeitemhide",[this]),t.trigger(d,"beforeitemshow",[this])),this._transitioner=this._translate(Math.abs(this.percent),a,!c&&d),l&&(!c&&t.trigger(a,"itemhide",[this]),t.trigger(d,"itemshow",[this]))},end(){if(t.off(document,a,this.move,h),t.off(document,d,this.end,o),this.dragging)if(this.dragging=null,this.index===this.prevIndex)this.percent=1-this.percent,this.dir*=-1,this._show(!1,this.index,!0),this._transitioner=null;else{const i=(t.isRtl?this.dir*(t.isRtl?1:-1):this.dir)<0==this.prevPos>this.pos;this.index=i?this.index:this.prevIndex,i&&(this.percent=1-this.percent),this.show(this.dir>0&&!i||this.dir<0&&i?"next":"previous",!0)}t.css(this.list,{userSelect:"",pointerEvents:""}),this.drag=this.percent=null}}};function c(t){return.5*t+300}function u(t=0,i="%"){return`translate3d(${t+=t?i:""}, 0, 0)`}function g(i,e,s){const n=v(i,e);return s?n-function(i,e){return t.dimensions(e).width/2-t.dimensions(i).width/2}(i,e):Math.min(n,m(e))}function m(i){return Math.max(0,p(i)-t.dimensions(i).width)}function p(i){return t.sumBy(t.children(i),(i=>t.dimensions(i).width))}function v(i,e){return i&&(t.position(i).left+(t.isRtl?t.dimensions(i).width-t.dimensions(e).width:0))*(t.isRtl?-1:1)||0}function f(i,e){e-=1;const s=t.dimensions(i).width,n=e+s+2;return t.children(i).filter((r=>{const h=v(r,i),o=h+Math.min(t.dimensions(r).width,s);return h>=e&&o<=n}))}function x(i,e,s){t.trigger(i,t.createEvent(e,!1,!1,s))}var I={mixins:[i,{mixins:[{props:{autoplay:Boolean,autoplayInterval:Number,pauseOnHover:Boolean},data:{autoplay:!1,autoplayInterval:7e3,pauseOnHover:!0},connected(){t.attr(this.list,"aria-live","polite"),this.autoplay&&this.startAutoplay()},disconnected(){this.stopAutoplay()},update(){t.attr(this.slides,"tabindex","-1")},events:[{name:"visibilitychange",el:()=>document,filter(){return this.autoplay},handler(){document.hidden?this.stopAutoplay():this.startAutoplay()}},{name:`${t.pointerEnter} focusin`,filter(){return this.autoplay},handler:"stopAutoplay"},{name:`${t.pointerLeave} focusout`,filter(){return this.autoplay},handler:"startAutoplay"}],methods:{startAutoplay(){this.draggable&&t.matches(this.$el,":focus-within")||this.pauseOnHover&&t.matches(this.$el,":hover")||(this.stopAutoplay(),this.interval=setInterval((()=>!this.stack.length&&this.show("next")),this.autoplayInterval),t.attr(this.list,"aria-live","off"))},stopAutoplay(){clearInterval(this.interval),t.attr(this.list,"aria-live","polite")}}},l,r,s,e],props:{clsActivated:Boolean,easing:String,index:Number,finite:Boolean,velocity:Number},data:()=>({easing:"ease",finite:!1,velocity:1,index:0,prevIndex:-1,stack:[],percent:0,clsActive:"uk-active",clsActivated:!1,Transitioner:!1,transitionOptions:{}}),connected(){this.prevIndex=-1,this.index=this.getValidIndex(this.$props.index),this.stack=[]},disconnected(){t.removeClass(this.slides,this.clsActive)},computed:{duration:({velocity:t},i)=>c(i.offsetWidth/t),list:({selList:i},e)=>t.$(i,e),maxIndex(){return this.length-1},slides:{get(){return t.children(this.list)},watch(){this.$emit()}},length(){return this.slides.length}},methods:{show(i,e=!1){var s;if(this.dragging||!this.length)return;const{stack:n}=this,r=e?0:n.length,h=()=>{n.splice(r,1),n.length&&this.show(n.shift(),!0)};if(n[e?"unshift":"push"](i),!e&&n.length>1)return void(2===n.length&&(null==(s=this._transitioner)||s.forward(Math.min(this.duration,200))));const o=this.getIndex(this.index),a=t.hasClass(this.slides,this.clsActive)&&this.slides[o],d=this.getIndex(i,this.index),l=this.slides[d];if(a===l)return void h();if(this.dir=function(t,i){return"next"===t?1:"previous"===t||t<i?-1:1}(i,o),this.prevIndex=o,this.index=d,a&&!t.trigger(a,"beforeitemhide",[this])||!t.trigger(l,"beforeitemshow",[this,a]))return this.index=this.prevIndex,void h();const c=this._show(a,l,e).then((()=>{a&&t.trigger(a,"itemhidden",[this]),t.trigger(l,"itemshown",[this]),n.shift(),this._transitioner=null,requestAnimationFrame((()=>n.length&&this.show(n.shift(),!0)))}));return a&&t.trigger(a,"itemhide",[this]),t.trigger(l,"itemshow",[this]),c},getIndex(i=this.index,e=this.index){return t.clamp(t.getIndex(i,this.slides,e,this.finite),0,this.maxIndex)},getValidIndex(t=this.index,i=this.prevIndex){return this.getIndex(t,i)},_show(t,i,e){if(this._transitioner=this._getTransitioner(t,i,this.dir,{easing:e?i.offsetWidth<600?"cubic-bezier(0.25, 0.46, 0.45, 0.94)":"cubic-bezier(0.165, 0.84, 0.44, 1)":this.easing,...this.transitionOptions}),!e&&!t)return this._translate(1),Promise.resolve();const{length:s}=this.stack;return this._transitioner[s>1?"forward":"show"](s>1?Math.min(this.duration,75+75/(s-1)):this.duration,this.percent)},_getDistance(t,i){return this._getTransitioner(t,t!==i&&i).getDistance()},_translate(t,i=this.prevIndex,e=this.index){const s=this._getTransitioner(i!==e&&i,e);return s.translate(t),s},_getTransitioner(i=this.prevIndex,e=this.index,s=this.dir||1,n=this.transitionOptions){return new this.Transitioner(t.isNumber(i)?this.slides[i]:i,t.isNumber(e)?this.slides[e]:e,s*(t.isRtl?-1:1),n)}}},{update:{write(){if(this.stack.length||this.dragging)return;const t=this.getValidIndex(this.index);~this.prevIndex&&this.index===t?this._translate(1,this.prevIndex,this.index):this.show(t)},events:["resize"]}},{mixins:[{data:{preload:5},methods:{lazyload(i=this.$el,e=this.$el){this.registerObserver(t.observeIntersection(i,((i,s)=>{for(const i of t.toNodes(t.isFunction(e)?e():e))t.$$('[loading="lazy"]',i).slice(0,this.preload-1).forEach((i=>t.removeAttr(i,"loading")));for(const t of i.filter((({isIntersecting:t})=>t)).map((({target:t})=>t)))s.unobserve(t)})))}}}],connected(){this.lazyload(this.slides,this.getAdjacentSlides)}}],props:{center:Boolean,sets:Boolean},data:{center:!1,sets:!1,attrItem:"uk-slider-item",selList:".uk-slider-items",selNav:".uk-slider-nav",clsContainer:"uk-slider-container",Transitioner:function(i,e,s,{center:n,easing:r,list:h}){const o=new t.Deferred,a=i?g(i,h,n):g(e,h,n)+t.dimensions(e).width*s,d=e?g(e,h,n):a+t.dimensions(i).width*s*(t.isRtl?-1:1);return{dir:s,show(e,n=0,a){const l=a?"linear":r;return e-=Math.round(e*t.clamp(n,-1,1)),this.translate(n),n=i?n:t.clamp(n,0,1),x(this.getItemIn(),"itemin",{percent:n,duration:e,timing:l,dir:s}),i&&x(this.getItemIn(!0),"itemout",{percent:1-n,duration:e,timing:l,dir:s}),t.Transition.start(h,{transform:u(-d*(t.isRtl?-1:1),"px")},e,l).then(o.resolve,t.noop),o.promise},cancel(){t.Transition.cancel(h)},reset(){t.css(h,"transform","")},forward(i,e=this.percent()){return t.Transition.cancel(h),this.show(i,e,!0)},translate(n){const r=this.getDistance()*s*(t.isRtl?-1:1);t.css(h,"transform",u(t.clamp(r-r*n-d,-p(h),t.dimensions(h).width)*(t.isRtl?-1:1),"px"));const o=this.getActives(),a=this.getItemIn(),l=this.getItemIn(!0);n=i?t.clamp(n,-1,1):0;for(const r of t.children(h)){const d=t.includes(o,r),c=r===a,u=r===l;x(r,"itemtranslate"+(c||!u&&(d||s*(t.isRtl?-1:1)==-1^v(r,h)>v(i||e))?"in":"out"),{dir:s,percent:u?1-n:c?n:d?1:0})}},percent:()=>Math.abs((t.css(h,"transform").split(",")[4]*(t.isRtl?-1:1)+a)/(d-a)),getDistance:()=>Math.abs(d-a),getItemIn(s=!1){let r=this.getActives(),o=f(h,g(e||i,h,n));if(s){const t=r;r=o,o=t}return o[t.findIndex(o,(i=>!t.includes(r,i)))]},getActives:()=>f(h,g(i||e,h,n))}}},computed:{avgWidth(){return p(this.list)/this.length},finite({finite:i}){return i||function(i,e){if(!i||i.length<2)return!0;const{width:s}=t.dimensions(i);if(!e)return Math.ceil(p(i))<Math.trunc(s+function(i){return Math.max(0,...t.children(i).map((i=>t.dimensions(i).width)))}(i));const n=t.children(i),r=Math.trunc(s/2);for(const i in n){const e=n[i],s=t.dimensions(e).width,h=new Set([e]);let o=0;for(const e of[-1,1]){let a=s/2,d=0;for(;a<r;){const s=n[t.getIndex(+i+e+d++*e,n)];if(h.has(s))return!0;a+=t.dimensions(s).width,h.add(s)}o=Math.max(o,s/2+t.dimensions(n[t.getIndex(+i+e,n)]).width/2-(a-r))}if(o>t.sumBy(n.filter((t=>!h.has(t))),(i=>t.dimensions(i).width)))return!0}return!1}(this.list,this.center)},maxIndex(){if(!this.finite||this.center&&!this.sets)return this.length-1;if(this.center)return t.last(this.sets);let i=0;const e=m(this.list),s=t.findIndex(this.slides,(s=>{if(i>=e)return!0;i+=t.dimensions(s).width}));return~s?s:this.length-1},sets({sets:i}){if(!i)return;let e=0;const s=[],n=t.dimensions(this.list).width;for(let i=0;i<this.length;i++){const r=t.dimensions(this.slides[i]).width;e+r>n&&(e=0),this.center?e<n/2&&e+r+t.dimensions(this.slides[+i+1]).width/2>n/2&&(s.push(+i),e=n/2-r/2):0===e&&s.push(Math.min(+i,this.maxIndex)),e+=r}return s.length?s:void 0},transitionOptions(){return{center:this.center,list:this.list}}},connected(){t.toggleClass(this.$el,this.clsContainer,!t.$(`.${this.clsContainer}`,this.$el))},update:{write(){for(const i of this.navItems){const e=t.toNumber(t.data(i,this.attrItem));!1!==e&&(i.hidden=!this.maxIndex||e>this.maxIndex||this.sets&&!t.includes(this.sets,e))}!this.length||this.dragging||this.stack.length||(this.reorder(),this._translate(1)),this.updateActiveClasses()},events:["resize"]},events:{beforeitemshow(i){!this.dragging&&this.sets&&this.stack.length<2&&!t.includes(this.sets,this.index)&&(this.index=this.getValidIndex());const e=Math.abs(this.index-this.prevIndex+(this.dir>0&&this.index<this.prevIndex||this.dir<0&&this.index>this.prevIndex?(this.maxIndex+1)*this.dir:0));if(!this.dragging&&e>1){for(let t=0;t<e;t++)this.stack.splice(1,0,this.dir>0?"next":"previous");return void i.preventDefault()}const s=this.dir<0||!this.slides[this.prevIndex]?this.index:this.prevIndex;this.duration=c(this.avgWidth/this.velocity)*(t.dimensions(this.slides[s]).width/this.avgWidth),this.reorder()},itemshow(){~this.prevIndex&&t.addClass(this._getTransitioner().getItemIn(),this.clsActive)},itemshown(){this.updateActiveClasses()}},methods:{reorder(){if(this.finite)return void t.css(this.slides,"order","");const i=this.dir>0&&this.slides[this.prevIndex]?this.prevIndex:this.index;if(this.slides.forEach(((e,s)=>t.css(e,"order",this.dir>0&&s<i?1:this.dir<0&&s>=this.index?-1:""))),!this.center)return;const e=this.slides[i];let s=t.dimensions(this.list).width/2-t.dimensions(e).width/2,n=0;for(;s>0;){const e=this.getIndex(--n+i,i),r=this.slides[e];t.css(r,"order",e>i?-2:-1),s-=t.dimensions(r).width}},updateActiveClasses(){const i=this._getTransitioner(this.index).getActives(),e=[this.clsActive,(!this.sets||t.includes(this.sets,t.toFloat(this.index)))&&this.clsActivated||""];for(const s of this.slides){const n=t.includes(i,s);t.toggleClass(s,e,n),t.attr(s,"aria-hidden",!n),t.attr(t.$$(t.selFocusable,s),"tabindex",n?null:-1)}},getValidIndex(i=this.index,e=this.prevIndex){if(i=this.getIndex(i,e),!this.sets)return i;let s;do{if(t.includes(this.sets,i))return i;s=i,i=this.getIndex(i+this.dir,e)}while(i!==s);return i},getAdjacentSlides(){const{width:i}=t.dimensions(this.list),e=-i,s=2*i,n=t.dimensions(this.slides[this.index]).width,r=this.center?i/2-n/2:0,h=new Set;for(const i of[-1,1]){let o=r+(i>0?n:0),a=0;do{const e=this.slides[this.getIndex(this.index+i+a++*i)];o+=t.dimensions(e).width*i,h.add(e)}while(this.length>a&&o>e&&o<s)}return Array.from(h)}}};return"undefined"!=typeof window&&window.UIkit&&window.UIkit.component("slider",I),I}));