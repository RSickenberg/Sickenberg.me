/*! For license information please see countdown.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitcountdown",["uikit-util"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).UIkitCountdown=e(t.UIkit.util)}(this,(function(t){"use strict";const e=["days","hours","minutes","seconds"];var i={mixins:[{connected(){t.addClass(this.$el,this.$options.id)}}],props:{date:String,clsWrapper:String,role:String},data:{date:"",clsWrapper:".uk-countdown-%unit%",role:"timer"},connected(){t.attr(this.$el,"role",this.role),this.date=t.toFloat(Date.parse(this.$props.date)),this.end=!1,this.start()},disconnected(){this.stop()},events:[{name:"visibilitychange",el:()=>document,handler(){document.hidden?this.stop():this.start()}}],methods:{start(){this.stop(),this.update(),this.timer||(t.trigger(this.$el,"countdownstart"),this.timer=setInterval(this.update,1e3))},stop(){this.timer&&(clearInterval(this.timer),t.trigger(this.$el,"countdownstop"),this.timer=null)},update(){const i=function(t){const e=Math.max(0,t-Date.now())/1e3;return{total:e,seconds:e%60,minutes:e/60%60,hours:e/60/60%24,days:e/60/60/24}}(this.date);i.total||(this.stop(),this.end||(t.trigger(this.$el,"countdownend"),this.end=!0));for(const n of e){const e=t.$(this.clsWrapper.replace("%unit%",n),this.$el);if(!e)continue;let s=String(Math.trunc(i[n]));s=s.length<2?`0${s}`:s,e.textContent!==s&&(s=s.split(""),s.length!==e.children.length&&t.html(e,s.map((()=>"<span></span>")).join("")),s.forEach(((t,i)=>e.children[i].textContent=t)))}}}};return"undefined"!=typeof window&&window.UIkit&&window.UIkit.component("countdown",i),i}));