/*! For license information please see slider.min.js.LICENSE.txt */
!function(t,i){"object"==typeof exports&&typeof module<"u"?module.exports=i(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitslider",["uikit-util"],i):(t=typeof globalThis<"u"?globalThis:t||self).UIkitSlider=i(t.UIkit.util)}(this,(function(t){"use strict";var i={connected(){var i;this.registerObserver(t.observeResize((null==(i=this.$options.resizeTargets)?void 0:i.call(this))||this.$el,(()=>this.$emit("resize"))))}},e={props:{autoplay:Boolean,autoplayInterval:Number,pauseOnHover:Boolean},data:{autoplay:!1,autoplayInterval:7e3,pauseOnHover:!0},connected(){this.autoplay&&this.startAutoplay()},disconnected(){this.stopAutoplay()},update(){t.attr(this.slides,"tabindex","-1")},events:[{name:"visibilitychange",el:()=>document,filter(){return this.autoplay},handler(){document.hidden?this.stopAutoplay():this.startAutoplay()}}],methods:{startAutoplay(){this.stopAutoplay(),this.interval=setInterval((()=>(!this.draggable||!t.$(":focus",this.$el))&&(!this.pauseOnHover||!t.matches(this.$el,":hover"))&&!this.stack.length&&this.show("next")),this.autoplayInterval)},stopAutoplay(){this.interval&&clearInterval(this.interval)}}};const s={passive:!1,capture:!0},n={passive:!0,capture:!0},r="touchmove mousemove",h="touchend touchcancel mouseup click input scroll";function d(t){return.5*t+300}function o(t=0,i="%"){return`translate3d(${t+=t?i:""}, 0, 0)`}function a(i,e,s){const n=u(i,e);return s?n-function(i,e){return t.dimensions(e).width/2-t.dimensions(i).width/2}(i,e):Math.min(n,l(e))}function l(i){return Math.max(0,c(i)-t.dimensions(i).width)}function c(i){return t.sumBy(t.children(i),(i=>t.dimensions(i).width))}function u(i,e){return i&&(t.position(i).left+(t.isRtl?t.dimensions(i).width-t.dimensions(e).width:0))*(t.isRtl?-1:1)||0}function g(i,e){e-=1;const s=t.dimensions(i).width,n=e+s+2;return t.children(i).filter((r=>{const h=u(r,i),d=h+Math.min(t.dimensions(r).width,s);return h>=e&&d<=n}))}function m(i,e,s){t.trigger(i,t.createEvent(e,!1,!1,s))}var p={mixins:[{connected(){t.addClass(this.$el,this.$options.id)}},{mixins:[e,{props:{draggable:Boolean},data:{draggable:!0,threshold:10},created(){for(const i of["start","move","end"]){const e=this[i];this[i]=i=>{const s=t.getEventPos(i).x*(t.isRtl?-1:1);this.prevPos=s===this.pos?this.prevPos:this.pos,this.pos=s,e(i)}}},events:[{name:"touchstart mousedown",passive:!0,delegate(){return`${this.selList} > *`},handler(i){!this.draggable||!t.isTouch(i)&&function(i){return"none"!==t.css(i,"userSelect")&&t.toNodes(i.childNodes).some((t=>3===t.nodeType&&t.textContent.trim()))}(i.target)||t.closest(i.target,t.selInput)||i.button>0||this.length<2||this.start(i)}},{name:"dragstart",handler(t){t.preventDefault()}},{name:r,el(){return this.list},handler:t.noop,...s}],methods:{start(){this.drag=this.pos,this._transitioner?(this.percent=this._transitioner.percent(),this.drag+=this._transitioner.getDistance()*this.percent*this.dir,this._transitioner.cancel(),this._transitioner.translate(this.percent),this.dragging=!0,this.stack=[]):this.prevIndex=this.index,t.on(document,r,this.move,s),t.on(document,h,this.end,n),t.css(this.list,"userSelect","none")},move(i){const e=this.pos-this.drag;if(0===e||this.prevPos===this.pos||!this.dragging&&Math.abs(e)<this.threshold)return;t.css(this.list,"pointerEvents","none"),i.cancelable&&i.preventDefault(),this.dragging=!0,this.dir=e<0?1:-1;const{slides:s}=this;let{prevIndex:n}=this,r=Math.abs(e),h=this.getIndex(n+this.dir,n),d=this._getDistance(n,h)||s[n].offsetWidth;for(;h!==n&&r>d;)this.drag-=d*this.dir,n=h,r-=d,h=this.getIndex(n+this.dir,n),d=this._getDistance(n,h)||s[n].offsetWidth;this.percent=r/d;const o=s[n],a=s[h],l=this.index!==h,c=n===h;let u;[this.index,this.prevIndex].filter((i=>!t.includes([h,n],i))).forEach((i=>{t.trigger(s[i],"itemhidden",[this]),c&&(u=!0,this.prevIndex=n)})),(this.index===n&&this.prevIndex!==n||u)&&t.trigger(s[this.index],"itemshown",[this]),l&&(this.prevIndex=n,this.index=h,!c&&t.trigger(o,"beforeitemhide",[this]),t.trigger(a,"beforeitemshow",[this])),this._transitioner=this._translate(Math.abs(this.percent),o,!c&&a),l&&(!c&&t.trigger(o,"itemhide",[this]),t.trigger(a,"itemshow",[this]))},end(){if(t.off(document,r,this.move,s),t.off(document,h,this.end,n),this.dragging)if(this.dragging=null,this.index===this.prevIndex)this.percent=1-this.percent,this.dir*=-1,this._show(!1,this.index,!0),this._transitioner=null;else{const i=(t.isRtl?this.dir*(t.isRtl?1:-1):this.dir)<0==this.prevPos>this.pos;this.index=i?this.index:this.prevIndex,i&&(this.percent=1-this.percent),this.show(this.dir>0&&!i||this.dir<0&&i?"next":"previous",!0)}t.css(this.list,{userSelect:"",pointerEvents:""}),this.drag=this.percent=null}}},{data:{selNav:!1},computed:{nav:({selNav:i},e)=>t.$(i,e),selNavItem:({attrItem:t})=>`[${t}],[data-${t}]`,navItems(i,e){return t.$$(this.selNavItem,e)}},update:{write(){this.nav&&this.length!==this.nav.children.length&&t.html(this.nav,this.slides.map(((t,i)=>`<li ${this.attrItem}="${i}"><a href></a></li>`)).join("")),this.navItems.concat(this.nav).forEach((t=>t&&(t.hidden=!this.maxIndex))),this.updateNav()},events:["resize"]},events:[{name:"click",delegate(){return this.selNavItem},handler(i){i.preventDefault(),this.show(t.data(i.current,this.attrItem))}},{name:"itemshow",handler:"updateNav"}],methods:{updateNav(){const i=this.getValidIndex();for(const e of this.navItems){const s=t.data(e,this.attrItem);t.toggleClass(e,this.clsActive,t.toNumber(s)===i),t.toggleClass(e,"uk-invisible",this.finite&&("previous"===s&&0===i||"next"===s&&i>=this.maxIndex))}}}},i],props:{clsActivated:Boolean,easing:String,index:Number,finite:Boolean,velocity:Number},data:()=>({easing:"ease",finite:!1,velocity:1,index:0,prevIndex:-1,stack:[],percent:0,clsActive:"uk-active",clsActivated:!1,Transitioner:!1,transitionOptions:{}}),connected(){this.prevIndex=-1,this.index=this.getValidIndex(this.$props.index),this.stack=[]},disconnected(){t.removeClass(this.slides,this.clsActive)},computed:{duration:({velocity:t},i)=>d(i.offsetWidth/t),list:({selList:i},e)=>t.$(i,e),maxIndex(){return this.length-1},slides:{get(){return t.children(this.list)},watch(){this.$emit("resize")}},length(){return this.slides.length}},methods:{show(i,e=!1){if(this.dragging||!this.length)return;const{stack:s}=this,n=e?0:s.length,r=()=>{s.splice(n,1),s.length&&this.show(s.shift(),!0)};var h;if(s[e?"unshift":"push"](i),!e&&s.length>1)return void(2===s.length&&(null==(h=this._transitioner)||h.forward(Math.min(this.duration,200))));const d=this.getIndex(this.index),o=t.hasClass(this.slides,this.clsActive)&&this.slides[d],a=this.getIndex(i,this.index),l=this.slides[a];if(o===l)return void r();if(this.dir=function(t,i){return"next"===t?1:"previous"===t||t<i?-1:1}(i,d),this.prevIndex=d,this.index=a,o&&!t.trigger(o,"beforeitemhide",[this])||!t.trigger(l,"beforeitemshow",[this,o]))return this.index=this.prevIndex,void r();const c=this._show(o,l,e).then((()=>{o&&t.trigger(o,"itemhidden",[this]),t.trigger(l,"itemshown",[this]),s.shift(),this._transitioner=null,requestAnimationFrame((()=>s.length&&this.show(s.shift(),!0)))}));return o&&t.trigger(o,"itemhide",[this]),t.trigger(l,"itemshow",[this]),c},getIndex(i=this.index,e=this.index){return t.clamp(t.getIndex(i,this.slides,e,this.finite),0,this.maxIndex)},getValidIndex(t=this.index,i=this.prevIndex){return this.getIndex(t,i)},_show(t,i,e){if(this._transitioner=this._getTransitioner(t,i,this.dir,{easing:e?i.offsetWidth<600?"cubic-bezier(0.25, 0.46, 0.45, 0.94)":"cubic-bezier(0.165, 0.84, 0.44, 1)":this.easing,...this.transitionOptions}),!e&&!t)return this._translate(1),Promise.resolve();const{length:s}=this.stack;return this._transitioner[s>1?"forward":"show"](s>1?Math.min(this.duration,75+75/(s-1)):this.duration,this.percent)},_getDistance(t,i){return this._getTransitioner(t,t!==i&&i).getDistance()},_translate(t,i=this.prevIndex,e=this.index){const s=this._getTransitioner(i!==e&&i,e);return s.translate(t),s},_getTransitioner(i=this.prevIndex,e=this.index,s=this.dir||1,n=this.transitionOptions){return new this.Transitioner(t.isNumber(i)?this.slides[i]:i,t.isNumber(e)?this.slides[e]:e,s*(t.isRtl?-1:1),n)}}},{update:{write(){if(this.stack.length||this.dragging)return;const t=this.getValidIndex(this.index);~this.prevIndex&&this.index===t?this._translate(1,this.prevIndex,this.index):this.show(t)},events:["resize"]}},{mixins:[{data:{preload:5},methods:{lazyload(i=this.$el,e=this.$el){this.registerObserver(t.observeIntersection(i,((i,s)=>{for(const i of t.toNodes(t.isFunction(e)?e():e))t.$$('[loading="lazy"]',i).slice(0,this.preload-1).forEach((i=>t.removeAttr(i,"loading")));for(const t of i.filter((({isIntersecting:t})=>t)).map((({target:t})=>t)))s.unobserve(t)})))}}}],connected(){this.lazyload(this.slides,this.getAdjacentSlides)}}],props:{center:Boolean,sets:Boolean},data:{center:!1,sets:!1,attrItem:"uk-slider-item",selList:".uk-slider-items",selNav:".uk-slider-nav",clsContainer:"uk-slider-container",Transitioner:function(i,e,s,{center:n,easing:r,list:h}){const d=new t.Deferred,l=i?a(i,h,n):a(e,h,n)+t.dimensions(e).width*s,p=e?a(e,h,n):l+t.dimensions(i).width*s*(t.isRtl?-1:1);return{dir:s,show(e,n=0,a){const l=a?"linear":r;return e-=Math.round(e*t.clamp(n,-1,1)),this.translate(n),n=i?n:t.clamp(n,0,1),m(this.getItemIn(),"itemin",{percent:n,duration:e,timing:l,dir:s}),i&&m(this.getItemIn(!0),"itemout",{percent:1-n,duration:e,timing:l,dir:s}),t.Transition.start(h,{transform:o(-p*(t.isRtl?-1:1),"px")},e,l).then(d.resolve,t.noop),d.promise},cancel(){t.Transition.cancel(h)},reset(){t.css(h,"transform","")},forward(i,e=this.percent()){return t.Transition.cancel(h),this.show(i,e,!0)},translate(n){const r=this.getDistance()*s*(t.isRtl?-1:1);t.css(h,"transform",o(t.clamp(r-r*n-p,-c(h),t.dimensions(h).width)*(t.isRtl?-1:1),"px"));const d=this.getActives(),a=this.getItemIn(),l=this.getItemIn(!0);n=i?t.clamp(n,-1,1):0;for(const r of t.children(h)){const o=t.includes(d,r),c=r===a,g=r===l;m(r,"itemtranslate"+(c||!g&&(o||s*(t.isRtl?-1:1)==-1^u(r,h)>u(i||e))?"in":"out"),{dir:s,percent:g?1-n:c?n:o?1:0})}},percent:()=>Math.abs((t.css(h,"transform").split(",")[4]*(t.isRtl?-1:1)+l)/(p-l)),getDistance:()=>Math.abs(p-l),getItemIn(s=!1){let r=this.getActives(),d=g(h,a(e||i,h,n));if(s){const t=r;r=d,d=t}return d[t.findIndex(d,(i=>!t.includes(r,i)))]},getActives:()=>g(h,a(i||e,h,n))}}},computed:{avgWidth(){return c(this.list)/this.length},finite({finite:i}){return i||function(i,e){const{length:s}=i;if(s<2)return!0;const{width:n}=t.dimensions(i);if(!e)return Math.ceil(c(i))<Math.trunc(n+function(i){return Math.max(0,...t.children(i).map((i=>t.dimensions(i).width)))}(i));const r=t.children(i),h=Math.trunc(n/2);for(const i in r){const e=r[i],s=t.dimensions(e).width,n=new Set([e]);let d=0;for(const e of[-1,1]){let o=s/2,a=0;for(;o<h;){const s=r[t.getIndex(+i+e+a++*e,r)];if(n.has(s))return!0;o+=t.dimensions(s).width,n.add(s)}d=Math.max(d,s/2+t.dimensions(r[t.getIndex(+i+e,r)]).width/2-(o-h))}if(d>t.sumBy(r.filter((t=>!n.has(t))),(i=>t.dimensions(i).width)))return!0}return!1}(this.list,this.center)},maxIndex(){if(!this.finite||this.center&&!this.sets)return this.length-1;if(this.center)return t.last(this.sets);let i=0;const e=l(this.list),s=t.findIndex(this.slides,(s=>{if(i>=e)return!0;i+=t.dimensions(s).width}));return~s?s:this.length-1},sets({sets:i}){if(!i)return;let e=0;const s=[],n=t.dimensions(this.list).width;for(let i=0;i<this.length;i++){const r=t.dimensions(this.slides[i]).width;e+r>n&&(e=0),this.center?e<n/2&&e+r+t.dimensions(this.slides[+i+1]).width/2>n/2&&(s.push(+i),e=n/2-r/2):0===e&&s.push(Math.min(+i,this.maxIndex)),e+=r}return s.length?s:void 0},transitionOptions(){return{center:this.center,list:this.list}}},connected(){t.toggleClass(this.$el,this.clsContainer,!t.$(`.${this.clsContainer}`,this.$el))},update:{write(){for(const i of this.navItems){const e=t.toNumber(t.data(i,this.attrItem));!1!==e&&(i.hidden=!this.maxIndex||e>this.maxIndex||this.sets&&!t.includes(this.sets,e))}this.length&&!this.dragging&&!this.stack.length&&(this.reorder(),this._translate(1)),this.updateActiveClasses()},events:["resize"]},events:{beforeitemshow(i){!this.dragging&&this.sets&&this.stack.length<2&&!t.includes(this.sets,this.index)&&(this.index=this.getValidIndex());const e=Math.abs(this.index-this.prevIndex+(this.dir>0&&this.index<this.prevIndex||this.dir<0&&this.index>this.prevIndex?(this.maxIndex+1)*this.dir:0));if(!this.dragging&&e>1){for(let t=0;t<e;t++)this.stack.splice(1,0,this.dir>0?"next":"previous");return void i.preventDefault()}const s=this.dir<0||!this.slides[this.prevIndex]?this.index:this.prevIndex;this.duration=d(this.avgWidth/this.velocity)*(t.dimensions(this.slides[s]).width/this.avgWidth),this.reorder()},itemshow(){~this.prevIndex&&t.addClass(this._getTransitioner().getItemIn(),this.clsActive)},itemshown(){this.updateActiveClasses()}},methods:{reorder(){if(this.finite)return void t.css(this.slides,"order","");const i=this.dir>0&&this.slides[this.prevIndex]?this.prevIndex:this.index;if(this.slides.forEach(((e,s)=>t.css(e,"order",this.dir>0&&s<i?1:this.dir<0&&s>=this.index?-1:""))),!this.center)return;const e=this.slides[i];let s=t.dimensions(this.list).width/2-t.dimensions(e).width/2,n=0;for(;s>0;){const e=this.getIndex(--n+i,i),r=this.slides[e];t.css(r,"order",e>i?-2:-1),s-=t.dimensions(r).width}},updateActiveClasses(){const i=this._getTransitioner(this.index).getActives(),e=[this.clsActive,(!this.sets||t.includes(this.sets,t.toFloat(this.index)))&&this.clsActivated||""];for(const s of this.slides)t.toggleClass(s,e,t.includes(i,s))},getValidIndex(i=this.index,e=this.prevIndex){if(i=this.getIndex(i,e),!this.sets)return i;let s;do{if(t.includes(this.sets,i))return i;s=i,i=this.getIndex(i+this.dir,e)}while(i!==s);return i},getAdjacentSlides(){const{width:i}=t.dimensions(this.list),e=-i,s=2*i,n=t.dimensions(this.slides[this.index]).width,r=this.center?i/2-n/2:0,h=new Set;for(const i of[-1,1]){let d=r+(i>0?n:0),o=0;do{const e=this.slides[this.getIndex(this.index+i+o++*i)];d+=t.dimensions(e).width*i,h.add(e)}while(this.length>o&&d>e&&d<s)}return Array.from(h)}}};return typeof window<"u"&&window.UIkit&&window.UIkit.component("slider",p),p}));